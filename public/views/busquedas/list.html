<section data-ng-controller="BusquedasListController" data-ng-init="find()">

    <!-- <div class="row">
        <div class="col-lg-12">
            <ol class="breadcrumb">
                <li class="active"><i class="fa fa-table"></i>Búsquedas</li>
            </ol>
        </div>
    </div> -->

    <div class="row rowInForm">
        <div class="col-lg-3">
            <p>
                <a href="#!/busquedas/create"><button type="button" class="btn btn-primary ">Crear una Búsqueda</button></a>
            </p>
        </div>
        
        <div class="col-lg-3" style="margin-top: -15px;">
          <input ng-model="searchText" class="form-control inputSearch" placeholder="Tags, Nombre,Fechas,etc">
        </div>

        <div class="col-lg-6">
          <div class="btn-group">
              <button type="button" class="btn btn-default" ng-model="estados" btn-radio="''">Todas</button>
              <button type="button" class="btn btn-default" ng-model="estados" btn-radio="'Pendiente'">Pendientes</button>
              <button type="button" class="btn btn-default" ng-model="estados" btn-radio="'Corriendo'">Corriendo</button>
              <button type="button" class="btn btn-default" ng-model="estados" btn-radio="'Finalizada'">Finalizadas</button>
              <button type="button" class="btn btn-default" ng-model="estados" btn-radio="'Archivada'">Archivadas</button>
          </div>
        </div>
        
    </div>

    <div class="row">
      <div class="col-lg-3">
          <h4 clock></h4>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <table class="table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Identificador</th>
                  <th>Fuente</th>
                  <th>Estado</th>
                  <th>Inicio</th>
                  <th>Término</th>
                  <th>Tags</th>
                </tr>
              </thead>
              <tbody>
                <tr data-ng-repeat="busqueda in busquedas | filter:searchText | filter:estados" ng-class="{success: busqueda.estado == 'Corriendo', danger: busqueda.estado == 'Archivada' , active: busqueda.estado == 'Finalizada'}">
                  <td>{[{$index+1}]}</td>
                  <td><a data-ng-href="#!/busquedas/{[{busqueda._id}]}">{[{busqueda.identificador}]}</a></td>
                  <td>{[{ busqueda.fuente }]}</td>
                  <td>{[{ busqueda.estado }]}</td>
                  <td>{[{busqueda.inicio | date:'medium'}]}</td>
                  <td>{[{busqueda.termino | date:'medium'}]}</td>
                  <td>
                  	{[{ busqueda.tags }]}
                  </td>
                </tr>
                <tr>
                	<td colspan="7">
                		<h1 data-ng-hide="!busquedas || busquedas.length">No hay búsquedas definidas aún. <br>  <a href="#!/busquedas/create">Crea una</a>?</h1>
                	</td>
                </tr>
              </tbody>
            </table>

        </div>
    </div>
</section>

